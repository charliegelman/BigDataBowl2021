---
title: "Hip Reaction Drill"
subtitle: "Measuring Reactions of Cornerbacks in Press-Man against Vertical-Breaking Routes"
author: "Charlie Gelman"
date: "January 7, 2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE)
```

```{r libraries}
library(cowplot)
library(dplyr)
library(gganimate)
library(ggplot2)
library(knitr)
```

# Introduction

Two of the most valuable traits of a cornerback are his hips and his ability to react to the receivers' hips. At Duke Football, we play a lot of press-man coverage, and so these traits become extremely important when you have to play in a receiver's face and quickly adjust to what routes they run. To train our cornerbacks (or "Cheetahs" as we call them), Coach Chris Hampton installed the Hip Reaction Drill.

In the Hip Reaction Drill, two players run next to each, with one acting as the wide receiver and the other being a cornerback. The wide receiver will run straight forward and at random times, drop his hips to slow down. There are two specific coaching points for the cornerback. The first coaching point is "when his hips drop, my hips drop." This is to say that when the receiver starts to slow down, his hips will drop, and so the cornerback should do the same in order to slow down as soon as possible. The other coaching point is "stay on top." This is to say that cornerbacks should be more upfield than the wide receiver, as we do not want our cornerbacks to get beat deep, as that's how explosive plays happen. An example of this drill can be seen below.


```{r drill-trape, fig.align='center', fig.cap="An example of the Hip Reaction Drill, with #28 Mark Gilbert (green) acting as a cornerback and #31 Josh Blackwell (blue) acting as a wide receiver."}
include_graphics("figures/hip_reaction_drill.gif")
```

In this example, we can see Gilbert follow both coaching points. He quickly drops his hips when Blackwell drops his hips while staying on top. He does this by staying focused on Blackwell's hips while having the necessary quick hip movement. This drill specifically trains cornerbacks for defending vertical-breaking routes (verticals, curls, hitches, and comebacks) when in press-man coverage. We hope that this drill transfers over to gameday, in that Gilbert will stay on top of a receiver if the receiver were to run a vertical route and that Gilbert will quickly drop his hips and stay in synch with a receiver if the receiver were to drop his hips to slow down and turn around in order to run a curl, hitch, or comeback.

This transfer to gameday is what we will examine in this study. We will look at all times a cornerback plays press-man coverage this season and is defending a vertical-breaking route, as this is the scope of the drill. We will look at the hip reaction time for corners defending curls, hitches, and comebacks and the downfield distance (which would be positive) from the corner to the receiver when defending verticals. We can use this to grade the combination of a cornerback's hips and his ability to react to the receivers' hips.

# Data

In this study, I use two data sources. The first source is the data provided by the NFL Big Data Bowl 2021, which provides  player-tracking data for skill position players in every play in every regular season game of the 2018 NFL season. This player-tracking data is given from Zebra's RFID chips and it provides coordinates, speeds, accelerations, orientations, and movement directions for every player at every 0.1 seconds of every play. We were provided with 19,239 plays.

The other source is ProFootballFocus. PFF is a database that all NFL teams subscribe to. I will be using this play-by-play data for every play in every regular season game of the 2018 NFL season, which has information such as alignment, coverage type, pass depth, pass result, and grades for each player for each play. PFF data is manually tracked using gamefilm, but it should be marked as reliable, as every row is completed by multiple people and checked against each other. I will be using this data for identifying coverages, press players, and routes. It should be noted that coverage and press players could both be identified using tracking data alone (as I'm sure many other 2021 Big Data Bowl Competitors did!) and that routes were provided to us in the player-tracking data. However, because I'm looking at a niche situation, I did not want to leave room for modeling error when filtering, and so I decided to use PFF data.

After pulling the PFF data, I filtered down to just passing plays where the defense was playing man coverage and had someone pressing, which gave us 5,980 plays. I then merged each of the plays from the Big Data Bowl data to the PFF plays identified as press-man based on GSIS play ID, possession team, and week number. After removing 472 plays that were missing game IDs, we were left with 5,508 plays.

The next task was to clean the data. First I created a new row for every press player and their respective receiver/route that they were covering. This gave us 11,450 rows. Knowing that we only want to examine vertical-breaking routes, I then filtered for just the four routes in question which left us with 4,502 routes to examine, with 2,824 of those being verticals and 1,678 of those being comebacks, curls, and hitches. We were now ready to start measuring hip reactions. 

# Methods



## Hip Reaction

## Downfield Distance

# Results

# Discussion

# Code




PlayId 1489 (pass to Bennie Fowler is marked as a curl/hitch)

PlayId 2852 in 2018123006 (Robby anderson teleports)
